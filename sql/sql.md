# 数据库系统概述

## 一.SQL概述

### 1.1 四个基本概念

数据：描述事物的符号，数据的含义叫做数据的语义，数据和语义是密不可分的，记录是计算机中表示和存储数据的一种格式或一种方法。

数据库：数据库是存储在计算机内，有组织可共享的大量数据的集合，存储在数据库中的数据按照一定的数据模型描述，组织和存储，具有较小的冗余度，较高的数据独立性和可扩展性，并可被其它用户所共享，简单来说，数据库的三个特点就是永久存储，有组织，可共享

数据库管理系统：数据库管理系统是位于用户和操作系统之间的数据管理软件，他是计算机系统的基础软件，是个复杂庞大软件系统，数据库管理系统的功能主要有：

    数据定义功能
    数据组织，存储和处理功能
    数据操纵功能
    数据库的事务管理和运行管理
    数据库的建立和维护
    其他功能：包括与其他软件的通信功能，不同数据库之间的数据转换功能，异构数据库之间的互访和互操作功能

数据库系统：数据库系统由数据库，数据库管理系统（包括其开发工具），应用程序和数据库管理员组成的对数据进行存储，管理，处理和控制的系统。

数据库系统经历了：人工管理阶段->文件系统阶段->数据库系统阶段，文件系统到数据库系统的过程标志着人们数据管理技术的飞跃

与人工管理和文件系统相比较，数据库系统的特点主要有以下四个方面：

    数据结构化，这也是数据库的主要特征之一，是数据库与文件系统的本质区别；
    数据的共享性高，冗余度低且易扩充；
    数据独立性高；
    数据由数据库管理系统统一控制和管理，这就要求数据库管理系统有以下功能：
        数据的安全性防护
        数据的完整性检查
        并发控制
        数据库恢复

### 1.2 数据模型

数据模型也是一种模型，它是对现实世界数据特征的抽象，也就是说数据模型是用来描述数据，组织数据和对数据进行操作的。

数据模型是对现实世界的模拟，它应该能满足三方面要求：
    一是能比较真实的模拟现实世界；
    二是能被人所理解；
    三是便于在计算机上实现。

数据模型是数据库的核心和基础，数据模型包括概念模型，逻辑模型和物理模型两类，概念模型是按照用户的观点对数据和信息建模，现实世界和信息世界的在中间层次，概念模型的主要方法就是实体-联系方法，也叫做E-R图，逻辑模型包括：

    层次模型
    关系模型
    网状模型
    面向对象数据模型
    对象关系数据模型
    半结构化数据模型

其中，E-R图的设计需要考虑（也就是信息世界的基本概念）：实体，属性，码，实体型，实体集，联系，数据模型的组成要素是数据结构，数据操作和数据的完整性约束

关系模型需要注意的是：关系，元组，属性，码，域，分量和关系模式

关系模型的优缺点：
    优点：
        关系模型与格式化模型不同，它是建立在严格的数学概念基础上的；
        关系模型概念单一，用户比较容易理解；
        关系模型的存取路径对用户是透明的，从而具有更高的数据独立性。
    缺点：
        由于存取路径对用户隐蔽，所以查询效率不高。
数据模型的组成要素：数据结构，数据操作和数据的完整性约束三部分组成

### 1.3 数据库系统的结构

数据模型有“型”和“值”的概念，模式是数据库中全体数据的逻辑结构和特征的描述，是所有用户的公共视图，外模式是用户视图，是数据库用户能够看到和使用的局部数据的逻辑结构和特征的描述。内模式也称为存储模式，一个数据库只有一个内模式，他是数据物理结构和存储方式的描述，是数据在数据库内部的组织方式。

主要是三级模式和两级映像，三级模式的外模式/模式映像保证了数据的逻辑独立性，模式/内模式映像抱枕数据的物理独立性

关系模式是“型”，关系是“值”。

### 1.4 数据库系统的组成

1.硬件平台和数据库
    内存大；
    磁盘大；
    有较高的通道能力，以提高数据传送率。
2.软件
    1.数据库管理系统；
    2.支持数据库管理系统运行的操作系统；
    3.具有与数据库接口的高级语言及其编译系统；
    4.一数据库管理系统为核心的应用开发工具；
    5.为特定应用环境开发的数据库应用系统。
3.人员
    1.数据库管理员；
    2.系统分析员；
    3.数据库设计人员；
    4.应用程序员；
    5.最终用户。

## 二.关系数据库

关系数据库应用数学方法来说处理数据库中的数据

### 2.1 关系数据库结构及形式化定义

关系数据库系统是支持关系数据模型的数据库系统，关系数据库的数据结构只有一种，就是关系，可以简单地理解为一张简单的二维表，关系包含域，笛卡尔积，关系等要素，关系有三种类型:基本表，查询表和视图表，关系的六个基本性质：

    列的数据来自相同的域；
    不同的列的数据也可以来自相同的域；
    行的顺序可以不一样；
    列的顺序可以不一样；
    不同的元组候选码的值一定不能相同；
    分量一定不可再分。

关系模式是型，关系值是值

### 2.2 关系操作

关系操作包括查询和插入，删除，修改两大类，其中，查询包括选择，投影，连接，除，并，差，交，笛卡尔积，其中，选择，投影，并，差，笛卡尔积是5种基本操作

关系数据语言包括关系代数语言（ISBL），关系演算语言，具有关系代数和关系演算双重特点的语言（SQL），其中，关系演算语言又包括元组关系演算语言（ALPHA，QUEL）和域关系演算语言（QBE）。

### 2.3 关系完整性

关系实体完整性
    1.这是针对基本关系而言的，一个基本表只能对应现实世界的一个实体集；
    2.现实世界中的实体是可区分的，即他们都有唯一的标识；
    3.关系模型中以主码作为唯一标识；
    4.主码中的属性不能取空值。

关系参照完整性
    若属性（或属性组）F是基本关系R的外码，它与基本关系S的主码K相对应，则对于R中每个元组在F上的值必须：
    或者取空值；
    或者等于S中的主码值；
    空值；
    非空值，此时必须是另一张表的主码值。

关系用户定义完整性
    是针对某一具体关系数据库的约束条件，它反映某一具体应用所涉及的数据必须满足的语义要求。

### 2.4 关系代数

关系代数是一种抽象的查询语言，他用对关系的运算来表达查询。

传统的集合运算：并，差，交，笛卡尔积。

专门的集合运算：选择，投影，连接，除运算
